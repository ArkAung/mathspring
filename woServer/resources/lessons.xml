<lessons>

    <lesson name="TopicWithIntroAndExample">
        <controlParameters>
            <lessonStyle>topics</lessonStyle>

            <maxTimeInTopicSecs>900</maxTimeInTopicSecs>
            <contentFailureThreshold>1</contentFailureThreshold>
            <topicMastery>1.2</topicMastery>
            <minNumberProbs>3</minNumberProbs>
            <maxNumberProbs>10</maxNumberProbs>
            <minTimeInTopicSecs>120</minTimeInTopicSecs>
            <difficultyRate>3</difficultyRate>
            <!-- legal values never, oncePerSession, always-->
            <topicIntroFrequency>oncePerSession</topicIntroFrequency>
            <topicExampleFrequency>oncePerSession</topicExampleFrequency>
            <!--valid values for the below: true, false.   If true and a MPP nextProblemIntervention selector is present, then MPP is off until the intervention selector
            turns it on.   If false, intervention selector has no effect - it is always off-->
        </controlParameters>

        <interventions>
            <interventionSelector onEvent="EndOfTopic" weight="1" class="TopicSwitchAskIS">
                <config>
                    <ask val="false"></ask>
                </config>
            </interventionSelector>
            <interventionSelector onEvent="BeginningOfTopic" weight="1" class="TopicIntroIS">
                <config>
                    <!-- legal values never, oncePerSession, always-->
                    <topicIntroFrequency>always</topicIntroFrequency>
                </config>
            </interventionSelector>
            <interventionSelector onEvent="BeginningOfTopic" weight="2" class="DemoProblemIS">
                <config>
                    <!-- legal values never, oncePerSession, always-->
                    <topicExampleFrequency>always</topicExampleFrequency>
                </config>
            </interventionSelector>
            <interventionSelector onEvent="InTopic" weight="1" class="AskEmotionIS">
                <config>
                    <inputType>radio</inputType>
                    <numVals>5</numVals>
                    <!-- Will interrupt to ask every 5 min or every 8 problems whichever comes first.  Omit one of these parameters for it not to be considered-->
                    <interruptIntervalMin>5</interruptIntervalMin>
                    <interruptIntervalProblems>8</interruptIntervalProblems>
                    <emotion name="Frustration">
                        <label val="1">Not at all Frustrated</label>
                        <label val="2">A little Frustrated</label>
                        <label val="3">Somewhat Frustrated</label>
                        <label val="4">Quite a bit Frustrated</label>
                        <label val="5">Extremely Frustrated</label>
                    </emotion>
                    <emotion name="Confidence">
                        <label val="1">Not at all Confident</label>
                        <label val="2">A little Confident</label>
                        <label val="3">Somewhat Confident</label>
                        <label val="4">Quite a bit Confident</label>
                        <label val="5">Extremely Confident</label>
                    </emotion>
                    <askWhy>true</askWhy>
                </config>

            </interventionSelector>
            <interventionSelector onEvent="InTopic" weight="2" class="MyProgressNavigationAskIS">
                <config>
                    <!--  This IS will tell the student they are going to the MPP on certain conditions being true-->

                    <dialogType ask="false"/>
                    <minIntervalBetweenMPPQueriesBasedOnAffect>10</minIntervalBetweenMPPQueriesBasedOnAffect>
                    <intervalCriteria type="affect" emotion="Frustration" lowerBound="3" upperBound="3"/>
                    <!-- If confidence is <= 2 show the MPP-->
                    <intervalCriteria type="affect" emotion="Confidence" lowerBound="3" upperBound="3"/>
                    <intervalCriteria type="affect" emotion="Excitement" upperBound="3"/>
                    <!-- If confidence is <= 2 show the MPP-->
                    <intervalCriteria type="affect" emotion="Interested" upperBound="3"/>
                </config>
            </interventionSelector>


        </interventions>
    </lesson>
</lessons>